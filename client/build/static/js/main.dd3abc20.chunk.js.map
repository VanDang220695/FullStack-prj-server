{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js","setupProxy.js"],"names":["fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","Payments","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","this","auth","href","Fragment","key","style","margin","credits","padding","to","renderContent","Landing","textAlign","Dashboard","SurveyNew","App","exact","path","React","combineReducers","state","action","store","createStore","rootReducer","applyMiddleware","reduxThunk","ReactDOM","render","document","getElementById","createProxyMiddleware","require","module","exports","app","use","target"],"mappings":"ocAIaA,EAAY,WACvB,8CAAO,WAAOC,GAAP,eAAAC,EAAA,sEACaC,IAAMC,IAAI,qBADvB,OACCC,EADD,OAELJ,EAAS,CAAEK,KCPW,aDOOC,QAASF,EAAIG,OAFrC,2CAAP,uDAMWC,EAAc,SAACC,GAAD,8CAAW,WAAOT,GAAP,eAAAC,EAAA,sEAClBC,IAAMQ,KAAK,cAAeD,GADR,OAC9BL,EAD8B,OAEpCJ,EAAS,CAAEK,KCba,aDaKC,QAASF,EAAIG,OAFN,2CAAX,uD,iBELrBI,E,uKACM,IAAD,OACP,OACE,kBAAC,IAAD,CACEC,KAAK,SACLC,YAAY,kBACZC,OAAQ,IACRL,MAAO,SAACA,GAAD,OAAW,EAAKM,MAAMP,YAAYC,IACzCO,UAAWC,8CACX,4BAAQC,UAAU,OAAlB,oB,GATeC,aAeRC,cAAQ,KAAMC,EAAdD,CAAuBT,GCfhCW,E,8KAEF,OAAQC,KAAKR,MAAMS,MACjB,KAAK,KACH,OACF,KAAK,EACH,OACE,4BACE,uBAAGC,KAAK,gBAAR,sBAGN,QACE,OACE,kBAAC,IAAMC,SAAP,KACE,wBAAIC,IAAI,WACN,kBAAC,EAAD,OAEF,wBAAIA,IAAI,iBAAiBC,MAAO,CAAEC,OAAQ,WAA1C,YACYN,KAAKR,MAAMS,KAAKM,SAE5B,wBAAIH,IAAI,UACN,uBAAGF,KAAK,eAAR,e,+BAQV,OACE,6BACE,yBAAKP,UAAU,cAAcU,MAAO,CAAEG,QAAS,WAC7C,kBAAC,IAAD,CACEC,GAAIT,KAAKR,MAAMS,KAAO,WAAa,IACnCN,UAAU,mBAFZ,UAKA,wBAAIA,UAAU,SAASK,KAAKU,uB,GArCjBd,aAgDNC,eAJS,SAAC,GAAD,MAAe,CACrCI,KADsB,EAAGA,QAIZJ,CAAyBE,GC3CzBY,EATC,WACd,OACE,yBAAKN,MAAO,CAAEO,UAAW,WACvB,uCADF,qCCKEC,EAAY,kBAAM,0CAClBC,EAAY,kBAAM,0CAElBC,E,kLAEFf,KAAKR,MAAMhB,c,+BAGX,OACE,yBAAKmB,UAAU,aACb,kBAAC,IAAD,KACE,6BACE,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOqB,OAAK,EAACC,KAAK,KAChB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,YAChB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,gBACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,a,GAnBMC,IAAMtB,WA2BTC,cAAQ,KAAMC,EAAdD,CAAuBkB,GCpCvBI,cAAgB,CAC7BlB,KCFa,WAA+B,IAArBmB,EAAoB,uDAAZ,GAAIC,EAAQ,uCAC3C,OAAQA,EAAOvC,MACb,INJsB,aMKpB,OAAOuC,EAAOtC,UAAW,EAC3B,QACE,OAAOqC,MCKPE,EAAQC,YAAYC,EAAaC,YAAgBC,MAEvDC,IAASC,OACP,kBAAC,IAAD,CAAUN,MAAOA,GACf,kBAAC,EAAD,OAEFO,SAASC,eAAe,U,4DClBlBC,EAA0BC,EAAQ,IAAlCD,sBACRE,EAAOC,QAAU,SAAUC,GACzBA,EAAIC,IACF,CAAC,OAAQ,gBACTL,EAAsB,CACpBM,OAAQ,8B","file":"static/js/main.dd3abc20.chunk.js","sourcesContent":["import axios from 'axios';\n\nimport { FETCH_USER } from './types';\n\nexport const fetchUser = () => {\n  return async (dispatch) => {\n    const res = await axios.get('/api/current_user');\n    dispatch({ type: FETCH_USER, payload: res.data });\n  };\n};\n\nexport const handleToken = (token) => async (dispatch) => {\n  const res = await axios.post('/api/stripe', token);\n  dispatch({ type: FETCH_USER, payload: res.data });\n};\n","export const FETCH_USER = 'fetch_user';\n","import React, { Component } from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { connect } from 'react-redux';\n\nimport * as actions from '../actions';\n\nclass Payments extends Component {\n  render() {\n    return (\n      <StripeCheckout\n        name=\"Emaily\"\n        description=\"$5 for 5 emails\"\n        amount={500}\n        token={(token) => this.props.handleToken(token)}\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}>\n        <button className=\"btn\">Add Credits</button>\n      </StripeCheckout>\n    );\n  }\n}\n\nexport default connect(null, actions)(Payments);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport Payment from './Payments';\n\nclass Header extends Component {\n  renderContent() {\n    switch (this.props.auth) {\n      case null:\n        return;\n      case false:\n        return (\n          <li>\n            <a href=\"/auth/google\">Login With Google</a>\n          </li>\n        );\n      default:\n        return (\n          <React.Fragment>\n            <li key=\"payment\">\n              <Payment />\n            </li>\n            <li key=\"creditQuantity\" style={{ margin: '0 10px' }}>\n              Credits: {this.props.auth.credits}\n            </li>\n            <li key=\"logout\">\n              <a href=\"/api/logout\">Logout</a>\n            </li>\n          </React.Fragment>\n        );\n    }\n  }\n\n  render() {\n    return (\n      <nav>\n        <div className=\"nav-wrapper\" style={{ padding: '0 10px' }}>\n          <Link\n            to={this.props.auth ? '/surveys' : '/'}\n            className=\"left brand-logo\">\n            Emaily\n          </Link>\n          <ul className=\"right\">{this.renderContent()}</ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth }) => ({\n  auth,\n});\n\nexport default connect(mapStateToProps)(Header);\n","import React from 'react';\n\nconst Landing = () => {\n  return (\n    <div style={{ textAlign: 'center' }}>\n      <h1>Emaily!</h1>\n      Collect feedback from your users\n    </div>\n  );\n};\n\nexport default Landing;\n","import React from 'react';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport * as actions from '../actions';\n\nimport Header from './Header';\nimport Landing from './Landing';\n\nconst Dashboard = () => <h2>Dashboard</h2>;\nconst SurveyNew = () => <h2>SurveyNew</h2>;\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.fetchUser();\n  }\n  render() {\n    return (\n      <div className=\"container\">\n        <BrowserRouter>\n          <div>\n            <Header />\n            <Route exact path=\"/\">\n              <Landing />\n            </Route>\n            <Route exact path=\"/surveys\">\n              <Dashboard />\n            </Route>\n            <Route path=\"/surveys/new\">\n              <SurveyNew />\n            </Route>\n            <Route></Route>\n          </div>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, actions)(App);\n","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n  auth: authReducer,\n});\n","import { FETCH_USER } from '../actions/types';\n\nexport default function (state = {}, action) {\n  switch (action.type) {\n    case FETCH_USER:\n      return action.payload || false;\n    default:\n      return state;\n  }\n}\n","import 'materialize-css/dist/css/materialize.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport './setupProxy';\n\nimport App from './components/App';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer, applyMiddleware(reduxThunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n","const { createProxyMiddleware } = require('http-proxy-middleware');\nmodule.exports = function (app) {\n  app.use(\n    ['/api', '/auth/google'],\n    createProxyMiddleware({\n      target: 'http://localhost:5000',\n    }),\n  );\n};\n"],"sourceRoot":""}